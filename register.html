<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="index.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>EduArt | Offline Learning</title>
  </head>
  <body>
    <section>
      <div class="container p-2">
        <div class="row login d-flex align-items-center justify-content-evenly">
          <div class="col-lg-4 left-box">
            <img
              src="/assets/logo_eduart.png"
              style="width: 131px; height: 41px"
            />
            <div class="text-center">
              <h1>Welcome Back</h1>
              <p>Please register</p>
            </div>
            <form action="#" id="registerForm">
                <div class="form-row">
                    <label class="form-label">Name</label>
                    <input
                      type="text"
                      class="form-control"
                      placeholder="Enter your name"
                      id="nameInput"
                      required
                    />
                </div>
              <div class="form-row">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-control"
                  placeholder="Enter your email"
                  id="emailInput"
                  required
                />
              </div>
              <div class="form-row">
                <label class="form-label">Password</label>
                <input
                  type="password"
                  class="form-control"
                  placeholder="Enter your password"
                  id="passwordInput"
                  required
                />
              </div>
              <div class="form-row text-center">
                <!-- <a type="submit" class="btn w-100" id="">Login</a> -->
                <button type="submit" class="btn w-100">Register</button>
                <p>have an account? <a href="/">Login</a></p>
              </div>
            </form>
          </div>
          <div class="col-lg-4 right-box">
            <img src="/assets/login.png" class="w-100" />
          </div>
        </div>
      </div>
    </section>
    <script>
      const baseUrl = "https://63930d2bab513e12c50169ad.mockapi.io";

      const registerForm = document.getElementById('registerForm');
      const nameInput = document.getElementById('nameInput');
      const emailInput = document.getElementById('emailInput');
      const passwordInput = document.getElementById('passwordInput');

      registerForm.addEventListener('submit', event => {
          event.preventDefault();

          const formData = new URLSearchParams();

          const name = nameInput.value;
          const email = emailInput.value;
          const password = passwordInput.value;

          formData.append("name",name)
          formData.append("email",email)
          formData.append("password",password)

          fetch(`${baseUrl}/users`, {
              method: 'POST',
              headers: {"Content-Type": "application/x-www-form-urlencoded"},
              body: formData
          })
          .then(response => {
              if (response.ok) {
                  window.location.href = '/';
              } else {
                  errorText.style.display = 'block';
                  errorText.innerText = 'Error Register';
              }
          })
          .catch(error=>console.log(error))
      });

      const loginForm = document.getElementById('loginForm');

    </script>
  </body>
</html>
